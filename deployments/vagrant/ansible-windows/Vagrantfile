Vagrant.configure("2") do |config|
  config.vm.provider "hyperv" do |h|
    h.vmname = "win11-packer"
    h.memory = 4096
    h.cpus = 2
    h.enable_virtualization_extensions = true
  end

  config.vm.communicator = "winrm"
  config.vm.guest = :windows
  config.vm.boot_timeout = 600

  # Optional: Set up WinRM credentials if needed
  config.winrm.username = "Administrator"
  config.winrm.password = "P@ssw0rd!"

  # Optional: Forward WinRM port
  config.vm.network "forwarded_port", guest: 5985, host: 55985, id: "winrm", auto_correct: true
end